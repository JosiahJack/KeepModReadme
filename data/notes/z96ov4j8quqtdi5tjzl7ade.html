<h1 id="miscellaneous">Miscellaneous<a aria-hidden="true" class="anchor-heading icon-link" href="#miscellaneous"></a></h1>
<h1 id="full-entity-listing">Full Entity Listing<a aria-hidden="true" class="anchor-heading icon-link" href="#full-entity-listing"></a></h1>
<h3 id="point-entity-list">Point Entity List<a aria-hidden="true" class="anchor-heading icon-link" href="#point-entity-list"></a></h3>
<ul>
<li>air_bubbles</li>
<li>ambient_comp_hum</li>
<li>ambient_custom_loop</li>
<li>ambient_custom_sound</li>
<li>ambient_drain</li>
<li>ambient_drip</li>
<li>ambient_drone</li>
<li>ambient_eerie</li>
<li>ambient_factory</li>
<li>ambient_fan_blowing</li>
<li>ambient_flies</li>
<li>ambient_flouro_buzz</li>
<li>ambient_flys</li>
<li>ambient_general</li>
<li>ambient_generalpurpose</li>
<li>ambient_grinder</li>
<li>ambient_highwind</li>
<li>ambient_humming</li>
<li>ambient_lapping</li>
<li>ambient_lapping2</li>
<li>ambient_light_buzz</li>
<li>ambient_machines</li>
<li>ambient_nehum</li>
<li>ambient_rain</li>
<li>ambient_riftpower</li>
<li>ambient_running_lava</li>
<li>ambient_running_water</li>
<li>ambient_rushing</li>
<li>ambient_sizzle</li>
<li>ambient_sound</li>
<li>ambient_stargate_hum</li>
<li>ambient_suck_wind</li>
<li>ambient_swamp1</li>
<li>ambient_swamp2</li>
<li>ambient_swamp3</li>
<li>ambient_teeth</li>
<li>ambient_teleport</li>
<li>ambient_thrum</li>
<li>ambient_thunder</li>
<li>ambient_toggle</li>
<li>ambient_water_fall</li>
<li>ambient_waterfall</li>
<li>ambient_whnoise</li>
<li>ambient_zzxzz</li>
<li>corpse_crucified1</li>
<li>corpse_crucified2</li>
<li>corpse_flayed1</li>
<li>corpse_flayed2</li>
<li>corpse_flayed3</li>
<li>corpse_flayed4</li>
<li>corpse_impaled_back1</li>
<li>corpse_impaled_back2</li>
<li>corpse_impaled_back3</li>
<li>corpse_impaled_front1</li>
<li>corpse_impaled_front2</li>
<li>corpse_impaled_front3</li>
<li>corpse_impaled_horizontal1</li>
<li>corpse_impaled_horizontal2</li>
<li>corpse_impaled_horizontal3</li>
<li>corpse_impaled_horizontal4</li>
<li>corpse_impaled_vertical1</li>
<li>corpse_impaled_vertical2</li>
<li>corpse_impaled_vertical3</li>
<li>corpse_lynched1</li>
<li>corpse_lynched2</li>
<li>corpse_lynched3</li>
<li>custom_item</li>
<li>dragon_corner</li>
<li>earthquake</li>
<li>effect_teleport</li>
<li>event_lightning</li>
<li>func_breakable_spawner</li>
<li>func_clock</li>
<li>func_counter</li>
<li>func_earthquake</li>
<li>func_exploder</li>
<li>func_instance</li>
<li>func_multi_exploder</li>
<li>func_oncount</li>
<li>func_placeholder</li>
<li>func_rotate_door</li>
<li>func_rotate_entity</li>
<li>func_rotate_train</li>
<li>func_rubble</li>
<li>func_rubble1</li>
<li>func_rubble2</li>
<li>func_rubble3</li>
<li>func_teleport_train</li>
<li>info_bomb</li>
<li>info_command</li>
<li>info_command_server</li>
<li>info_command_spawn</li>
<li>info_effect_pulse</li>
<li>info_intermission</li>
<li>info_notnull</li>
<li>info_null</li>
<li>info_overlord_destination</li>
<li>info_particles</li>
<li>info_player_coop</li>
<li>info_player_coop2</li>
<li>info_player_deathmatch</li>
<li>info_player_start</li>
<li>info_player_start2</li>
<li>info_rotate</li>
<li>info_screenshake</li>
<li>info_skullwiz_destination</li>
<li>info_target</li>
<li>info_teleport_destination</li>
<li>item_armor1</li>
<li>item_armor2</li>
<li>item_armorInv</li>
<li>item_artifact_cross</li>
<li>item_artifact_empathy_shields</li>
<li>item_artifact_envirosuit</li>
<li>item_artifact_horn</li>
<li>item_artifact_invisibility</li>
<li>item_artifact_invulnerability</li>
<li>item_artifact_lavasuit</li>
<li>item_artifact_nail_piercer</li>
<li>item_artifact_random</li>
<li>item_artifact_sharp_shooter</li>
<li>item_artifact_super_damage</li>
<li>item_artifact_trinity</li>
<li>item_artifact_wetsuit</li>
<li>item_backpack</li>
<li>item_bolts</li>
<li>item_cells</li>
<li>item_circuitboard</li>
<li>item_custom</li>
<li>item_health</li>
<li>item_key1</li>
<li>item_key2</li>
<li>item_keyx</li>
<li>item_lava_spikes</li>
<li>item_multi_rockets</li>
<li>item_plasma</li>
<li>item_poison</li>
<li>item_powerup_belt</li>
<li>item_powerup_shield</li>
<li>item_random_powerup</li>
<li>item_rockets</li>
<li>item_shells</li>
<li>item_sigil</li>
<li>item_spikes</li>
<li>item_taunt</li>
<li>item_tomeofpower</li>
<li>light</li>
<li>light_beacon</li>
<li>light_candle</li>
<li>light_fixture1</li>
<li>light_flame_brazier_short</li>
<li>light_flame_brazier_tall</li>
<li>light_flame_large_yellow</li>
<li>light_flame_small_white</li>
<li>light_flame_small_yellow</li>
<li>light_fluoro</li>
<li>light_fluorospark</li>
<li>light_globe</li>
<li>light_lantern</li>
<li>light_lantern2</li>
<li>light_marsh</li>
<li>light_postlight</li>
<li>light_torch_long_walltorch</li>
<li>light_torch_small_walltorch</li>
<li>light_tubelight</li>
<li>ltrail_end</li>
<li>ltrail_relay</li>
<li>ltrail_start</li>
<li>mapobject_custom</li>
<li>misc_biobox_l</li>
<li>misc_biobox_s</li>
<li>misc_boom</li>
<li>misc_builtineffects</li>
<li>misc_drip</li>
<li>misc_explobox</li>
<li>misc_explobox2</li>
<li>misc_fireball</li>
<li>misc_misc</li>
<li>misc_model</li>
<li>misc_particle</li>
<li>misc_particle_burst</li>
<li>misc_particletemplate</li>
<li>misc_plasmabox</li>
<li>misc_plasmabox_s</li>
<li>misc_shake</li>
<li>misc_slime_ball</li>
<li>misc_smoke</li>
<li>misc_smokemaker</li>
<li>misc_spark</li>
<li>misc_sparks</li>
<li>misc_splash</li>
<li>misc_targetdummy</li>
<li>misc_targetnumber</li>
<li>misc_teleporttrain</li>
<li>misc_textbook</li>
<li>monster_armagon</li>
<li>monster_army</li>
<li>monster_army_grenade</li>
<li>monster_army_plasma</li>
<li>monster_army_rocket</li>
<li>monster_axeman</li>
<li>monster_bob</li>
<li>monster_boss</li>
<li>monster_centurion</li>
<li>monster_dcrossbow</li>
<li>monster_death_guard</li>
<li>monster_death_lord</li>
<li>monster_defender</li>
<li>monster_dfury</li>
<li>monster_dguard</li>
<li>monster_dknight</li>
<li>monster_dog</li>
<li>monster_dragon</li>
<li>monster_dreadnought</li>
<li>monster_drole</li>
<li>monster_dseargeant</li>
<li>monster_eel</li>
<li>monster_eliminator</li>
<li>monster_enforcer</li>
<li>monster_firetopboss</li>
<li>monster_fish</li>
<li>monster_gargoyle</li>
<li>monster_gaunt</li>
<li>monster_golem</li>
<li>monster_gremlin</li>
<li>monster_gug</li>
<li>monster_hell_knight</li>
<li>monster_hell_knight_champion</li>
<li>monster_hogre</li>
<li>monster_hogreham</li>
<li>monster_hogremac</li>
<li>monster_imp</li>
<li>monster_impling</li>
<li>monster_jim</li>
<li>monster_knight</li>
<li>monster_lava_man</li>
<li>monster_lostsoul</li>
<li>monster_minotaur</li>
<li>monster_morph</li>
<li>monster_mummy</li>
<li>monster_ogre</li>
<li>monster_ogre_flak</li>
<li>monster_ogre_marksman</li>
<li>monster_ogre_multi</li>
<li>monster_ogre_spikeshooter</li>
<li>monster_oldone</li>
<li>monster_polyp</li>
<li>monster_pyro</li>
<li>monster_scorpion</li>
<li>monster_scourge</li>
<li>monster_shalrath</li>
<li>monster_shambler</li>
<li>monster_shuffler</li>
<li>monster_skullwiz</li>
<li>monster_spider</li>
<li>monster_spikemine</li>
<li>monster_super_wrath</li>
<li>monster_sword</li>
<li>monster_tarbaby</li>
<li>monster_tarbaby_mitosis</li>
<li>monster_turret</li>
<li>monster_vermis</li>
<li>monster_voreling</li>
<li>monster_wizard</li>
<li>monster_wraith</li>
<li>monster_wrath</li>
<li>monster_zombie</li>
<li>monster_zombiek</li>
<li>monster_zombiep</li>
<li>random_thunder</li>
<li>path_corner</li>
<li>path_rotate</li>
<li>play_sound</li>
<li>play_sound_looped</li>
<li>play_sound_triggered</li>
<li>trap_gasshooter</li>
<li>trap_gods_wrath</li>
<li>trap_gravity_well</li>
<li>trap_grenadeshooter</li>
<li>trap_lightning</li>
<li>trap_lightning_switched</li>
<li>trap_lightning_triggered</li>
<li>trap_lightningshooter</li>
<li>trap_pendlong</li>
<li>trap_pendlongx</li>
<li>trap_pendshort</li>
<li>trap_pendshortx</li>
<li>trap_rocketshooter</li>
<li>trap_sawbladex</li>
<li>trap_sawbladey</li>
<li>trap_shooter</li>
<li>trap_spike_mine</li>
<li>trap_spikeshooter</li>
<li>trap_switched_shooter</li>
<li>trap_tesla_coil</li>
<li>trap_turret</li>
<li>trigger_counter</li>
<li>trigger_entitystate_disable</li>
<li>trigger_entitystate_off</li>
<li>trigger_entitystate_on</li>
<li>trigger_entitystate_reset</li>
<li>trigger_explode</li>
<li>trigger_monsterbreak</li>
<li>trigger_monstermovespeed</li>
<li>trigger_relay</li>
<li>weapon_axe</li>
<li>weapon_crossbow</li>
<li>weapon_grenadelauncher</li>
<li>weapon_laser_gun</li>
<li>weapon_lava_nailgun</li>
<li>weapon_lava_super_nailgun</li>
<li>weapon_lightning</li>
<li>weapon_mjolnir</li>
<li>weapon_nailgun</li>
<li>weapon_plasma</li>
<li>weapon_proximity_gun</li>
<li>weapon_rocketlauncher</li>
<li>weapon_shotgun</li>
<li>weapon_supernailgun</li>
<li>weapon_supershotgun</li>
<li>weapon_upgrade_axe</li>
<li>weapon_upgrade_lg</li>
<li>weapon_upgrade_ssg</li>
<li>viewthing</li>
</ul>
<h3 id="brush-entity-list">Brush Entity List:<a aria-hidden="true" class="anchor-heading icon-link" href="#brush-entity-list"></a></h3>
<ul>
<li>exploding_wall</li>
<li>func_bob</li>
<li>func_bobbingobject</li>
<li>func_bobbingwater</li>
<li>func_bossgate</li>
<li>func_breakable</li>
<li>func_breakable_wall</li>
<li>func_breakawaywall</li>
<li>func_button</li>
<li>func_detail</li>
<li>func_door</li>
<li>func_door_button</li>
<li>func_door_secret</li>
<li>func_elvtr_button</li>
<li>func_episodegate</li>
<li>func_explobox</li>
<li>func_explodable</li>
<li>func_exploder</li>
<li>func_group</li>
<li>func_illusionary</li>
<li>func_ladder</li>
<li>func_ladder_toggle</li>
<li>func_laser</li>
<li>func_movewall</li>
<li>func_multi_exploder</li>
<li>func_new_plat</li>
<li>func_particlefield</li>
<li>func_plat</li>
<li>func_pushable</li>
<li>func_skill</li>
<li>func_slidebox</li>
<li>func_togglewall</li>
<li>func_train</li>
<li>func_train2</li>
<li>func_train_inv</li>
<li>func_turret</li>
<li>func_wall</li>
<li>misc_bob</li>
<li>rotate_object</li>
<li>trigger_changelevel</li>
<li>trigger_command</li>
<li>trigger_command_contract</li>
<li>trigger_console</li>
<li>trigger_cvarset</li>
<li>trigger_damagethreshold</li>
<li>trigger_drolejump</li>
<li>trigger_earthquake</li>
<li>trigger_earthquake_kill</li>
<li>trigger_fog</li>
<li>trigger_gravity</li>
<li>trigger_heal</li>
<li>trigger_hurt</li>
<li>trigger_ladder</li>
<li>trigger_monsterjump</li>
<li>trigger_monsterturret</li>
<li>trigger_multiple</li>
<li>trigger_once</li>
<li>trigger_push</li>
<li>trigger_quake</li>
<li>trigger_qtele</li>
<li>trigger_remove</li>
<li>trigger_rune</li>
<li>trigger_secret</li>
<li>trigger_setgravity</li>
<li>trigger_setskill</li>
<li>trigger_teleport</li>
<li>trigger_void</li>
<li>trigger_waterfall</li>
</ul>
<h1 id="mod-structure">Mod Structure<a aria-hidden="true" class="anchor-heading icon-link" href="#mod-structure"></a></h1>
<p>The Keep mod is large.  For any large project, a good structure is important.  Here I provide a files overview and a code overview for the organization and overall workings of the mod.  This is a useful reference if you desire to modify Keep or use and extend it for a mod of your own, which is of course encouraged.  I would be quite hypocritical if I let myself borrow code from everyone and did not return the same favor.  Also, if I were to fade from time and existence, this will help someone be able to pick up and carry the torch.</p>
<h2 id="file-organization">File Organization<a aria-hidden="true" class="anchor-heading icon-link" href="#file-organization"></a></h2>
<p>Everything is in the <code>keep/</code> folder in your Quake install directory.  For example, on Windows: <code>C:/QUAKE/keep/</code>.  This is the <em>working directory</em>.  For the sake of brevity, I will omit the working directory from in front of amy referenced locations below.</p>
<p>I keep all files outside of .pak files for ease of development, backup, and github commits.</p>
<h3 id="2d-data">2D Data<a aria-hidden="true" class="anchor-heading icon-link" href="#2d-data"></a></h3>
<ul>
<li>Sky textures are in <code>env/gfx/</code>.  These must be .tga format.</li>
<li>HUD textures are in <code>env/</code>.  These must be .lmp format.  Some HUD textures are in <code>keep/gfx.wad</code>, however.</li>
<li>Override textures are in <code>textures/</code>.  These must be .tga format and are typically used to support alpha channel transparency where crisp masking is not desired, but rather smooth transparency.</li>
<li>Map textures are compiled into the .bsp files, located in <code>maps/</code></li>
</ul>
<h3 id="3d-data">3D Data<a aria-hidden="true" class="anchor-heading icon-link" href="#3d-data"></a></h3>
<ul>
<li>All 3D models are in <code>progs/</code>.  These must be .mdl format.</li>
</ul>
<h3 id="text-data">Text Data<a aria-hidden="true" class="anchor-heading icon-link" href="#text-data"></a></h3>
<ul>
<li>Particle effect specifications are in <code>keep/effectinfo.txt</code> file.  These are used by DP/FTE/QSS family of engines for specialized particle effects referenced by text name in QuakeC.</li>
<li>Readme is here online, not bundled with the mod currently.</li>
</ul>
<h3 id="audio-data">Audio Data<a aria-hidden="true" class="anchor-heading icon-link" href="#audio-data"></a></h3>
<ul>
<li>All sounds are in <code>sounds/</code>.  These must be .wav, .mp3, or .ogg.</li>
</ul>
<h3 id="code">Code<a aria-hidden="true" class="anchor-heading icon-link" href="#code"></a></h3>
<ul>
<li>The meat and potatoes of the mod are stored in <code>keepsrc/</code>.  These must be .qc files for ssqc normal progs.dat (main game code) and .csqc for csprogs.dat (HUD and effects).  The compile list and inclusion is in the progs.src file in here.</li>
<li>CSQC code is in <code>keepsrc/csqc/</code>.</li>
<li>I've included each build of fteqccgui.exe that was used to compile the progs.dat in <code>keepsrc/</code> and the csprogs.dat in <code>keepsrc/csqc</code></li>
</ul>
<h2 id="code-organization">Code Organization<a aria-hidden="true" class="anchor-heading icon-link" href="#code-organization"></a></h2>
<p>Here the organization of functions and general practice for the code is given, along with my reasonings for my particular code style.</p>
<p><strong>Of brackets and one line ifs and compressed locals on the same line:</strong> when working on code, a lot of time can be spent scrolling up and down within a file.  To save myself countless hours of scrolling, I've established a habit of minimizing vertical padding wherever possible, but without compromising readability. This is why <code>{</code> are always on the same line as function names and <code>else</code>'s or <code>else if</code>s, one line ifs are kept on the same line, and many ai functions of the form <code>monster_anim# [$frame, next] will have their ai_*(); function and any trivial function calls all on one line.  Also multiple same type locals are </code>,`'ed together on one line.  Where these vertical space saving conventions aren't followed, it indicates untouched code directly copied and used as-is, or at least almost untouched.</p>
<p>Most of the time, though not all, I've made separate .qc files for different mods, particularly for defs, subs, projectiles, and effects (fx).</p>
<h1 id="useful-functions">Useful Functions<a aria-hidden="true" class="anchor-heading icon-link" href="#useful-functions"></a></h1>
<p>Here there be dragons.  Use at your own risk of fun or otherwise.  Maphacks are nonstandard usage and can have bad side effects, but can lead to some fun and interesting results.  This is not a complete listing of every function in the mod, but it provides a common listing of <em>hook</em> functions useful for hacks.  A <em>hook</em> function is one that lets you change a state or condition with minimal side effects.  This could be anything from a delayed spawn, to a precache, or simply to use the brush model (aka bmodel).  Some of these were made just for hacks...and nothing else!  Who knew!</p>
<p>This listing is also useful if you are extending Keep to make a mod of your own.  Please also refer to the Mod Structure above for a guide on the code organization.</p>
<p>Special Note:  There are many useful added entities from many mods; so many, in fact, that there probably already exists a documented entity for what you are trying to achieve.</p>